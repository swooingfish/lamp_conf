# To enable this config type 'a2ensite cm-i7'
<VirtualHost cm-i7:80>
	ServerAdmin webmaster@localhost

       	ServerName www.cm-i7
	ServerAlias cm-i7

	DocumentRoot /var/www/vhosts/cm-i7/httpdocs
	
	<Directory />
		Options FollowSymLinks
		AllowOverride None
	</Directory>
	<Directory /var/www/vhosts/cm-i7/httpdocs>
		Options Indexes FollowSymLinks MultiViews
		AllowOverride All
		Order allow,deny
		allow from all
	</Directory>

	# Possible values include: debug, info, notice, warn, error, crit,
	# alert, emerg.
	LogLevel warn

	CustomLog /var/www/vhosts/cm-i7/logs/access.log combined
	ErrorLog /var/www/vhosts/cm-i7/logs/error.log




</VirtualHost>



<IfModule mod_ssl.c>
<VirtualHost cm-i7:443>
	VirtualDocumentRoot /var/www/vhosts/cm-i7/httpdocs/

	ErrorLog ${APACHE_LOG_DIR}/error.log

	# Possible values include: debug, info, notice, warn, error, crit,
	# alert, emerg.
	LogLevel warn

	CustomLog ${APACHE_LOG_DIR}/ssl_access.log combined

	#   SSL Engine Switch:
	#   Enable/Disable SSL for this virtual host.
	SSLEngine On
	SSLCertificateFile /etc/apache2/ssl/cm-i7.crt
	SSLCertificateKeyFile /etc/apache2/ssl/cm-i7.key 

	#   Server Certificate Chain:
	#   Point SSLCertificateChainFile at a file containing the
	#   concatenation of PEM encoded CA certificates which form the
	#   certificate chain for the server certificate. Alternatively
	#   the referenced file can be the same as SSLCertificateFile
	#   when the CA certificates are directly appended to the server
	#   certificate for convinience.
	#SSLCertificateChainFile /etc/apache2/ssl.crt/server-ca.crt



	<IfModule mod_status.c>
	#
	# Allow server status reports generated by mod_status,
	# with the URL of http://servername/server-status
	# Uncomment and change the ".example.com" to allow
	# access from other hosts.
	#
	<Location /server-status>
	    SetHandler server-status
	    Order deny,allow
	    Allow from all 

	#   Deny from all
	#   Allow from localhost ip6-localhost
	#   Allow from .example.com

	    AuthUserFile /etc/apache2/.htpasswd
	    AuthType Basic
	    AuthName "Server Status"
	    Require valid-user

	</Location>
	</IfModule>
</VirtualHost>
</IfModule>

